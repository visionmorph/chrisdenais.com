---
/**
 * Props:
 * - icon: the name of the SVG file in /src/icons (without .svg)
 * - ariaLabel: accessible name for the button
 */
const { icon = "link", ariaLabel = "Icon button" } = Astro.props;

// Dynamically import the SVG as a component
import * as Icons from "../icons/*.svg";
const SvgIcon = Icons[`${icon}`];
---

<button
  type="button"
  aria-label={ariaLabel}
  class="icon-button"
>
  {SvgIcon ? <SvgIcon class="icon" /> : null}
</button>

<style>
  .icon-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 3rem;
    height: 3rem;
    background-color: transparent;
    border: none;
    border-radius: 0.5rem;
    cursor: pointer;
    color: currentColor; /* controls icon color */
    transition: background-color 0.2s ease, color 0.2s ease;
  }

  .icon-button:hover {
    background-color: rgba(0, 0, 0, 0.05);
  }

  .icon {
    width: 1.25rem;
    height: 1.25rem;
    fill: currentColor;
  }
</style>
