---
const props = Astro.props || {}
const href = props.href || '#'
const label = props.label || ''
const subtitle = props.subtitle || ''
const description = props.description || ''
const thumb = props.thumbnail || {}
const src = thumb.src || ''
const videoSrc = thumb.video || (src?.endsWith('.mp4') ? src : '')
const imgSrc = !videoSrc ? src : ''
const isVideo = Boolean(videoSrc)
---

<section>
  <div class="container content">
    <h2>Next up</h2>
    <a href={href} class="next__grid">
      <div class="next__caption">
        <div style="gap:.5rem;display:flex;flex-direction:column;">
          <p class="p2">{subtitle}</p>
          <h3>{label}</h3>
        </div>
        <p>{description}</p>
        <p>â†’</p>
      </div>

      {isVideo ? (
        <video autoplay loop muted playsinline class="full">
          <source src={videoSrc} type="video/mp4" />
          Your browser does not support the video tag.
        </video>
      ) : (
        imgSrc && <img src={imgSrc} alt={label} />
      )}
    </a>
  </div>
</section>
